
---
page_title: "arubacloud_cloudserver"
subcategory: "Compute"
description: |-
  Manages an ArubaCloud CloudServer.
---

# arubacloud_cloudserver

Manages an ArubaCloud CloudServer.

```terraform
resource "arubacloud_cloudserver" "basic" {
  name                  = "example-cloudserver"
  location              = "ITBG-Bergamo"
  project_id            = arubacloud_project.example.id
  zone                  = "ITBG-1"
  vpc_uri_ref           = arubacloud_vpc.example.uri
  flavor_name           = "CSO4A8"  # 4 CPU, 8GB RAM (see https://api.arubacloud.com/docs/metadata/#cloudserver-flavors)
  elastic_ip_uri_ref    = arubacloud_elasticip.example.uri
  boot_volume_uri_ref   = arubacloud_blockstorage.example.uri  # URI reference to bootable block storage
  key_pair_uri_ref      = arubacloud_keypair.example.uri
  subnet_uri_refs       = [arubacloud_subnet.example.uri]
  securitygroup_uri_refs = [arubacloud_securitygroup.example.uri]
  tags                  = ["compute", "example"]
  # Optional: cloud-init user data for bootstrapping (raw cloud-init YAML content)
  # user_data             = file("cloud-init.yaml")
}
```

### Example with Cloud-Init User Data

```terraform
locals {
  cloud_init_config = <<-EOF
    #cloud-config
    package_update: true
    package_upgrade: true
    packages:
      - nginx
    write_files:
      - path: /etc/nginx/sites-available/default
        content: |
          server {
              listen 80;
              charset utf-8;  # Important for UTF-8 encoding
              root /var/www/html;
              index index.html;
          }
    runcmd:
      - |
        cat > /var/www/html/index.html <<'HTML'
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">  # Important for UTF-8 encoding
            <title>My Server</title>
        </head>
        <body>
            <h1>ðŸš€ Hello World!</h1>
        </body>
        </html>
        HTML
      - systemctl enable nginx
      - systemctl start nginx
  EOF
}

resource "arubacloud_cloudserver" "example" {
  # ... other configuration ...
  user_data = local.cloud_init_config
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `boot_volume_uri_ref` (String) URI reference to the boot volume (block storage). Should be the block storage URI. You can reference the `uri` attribute from an `arubacloud_blockstorage` resource.
- `flavor_name` (String) Flavor name. Available flavors are described in the [ArubaCloud API documentation](https://api.arubacloud.com/docs/metadata/#cloudserver-flavors). For example, `CSO4A8` means 4 CPU and 8GB RAM.
- `location` (String) CloudServer location
- `name` (String) CloudServer name
- `project_id` (String) Project ID
- `securitygroup_uri_refs` (List of String) List of security group URI references. Should be security group URIs. You can reference the `uri` attribute from `arubacloud_securitygroup` resources like `[arubacloud_securitygroup.example.uri]`
- `subnet_uri_refs` (List of String) List of subnet URI references. Should be subnet URIs. You can reference the `uri` attribute from `arubacloud_subnet` resources like `[arubacloud_subnet.example.uri]`
- `vpc_uri_ref` (String) URI reference to the VPC. Should be the VPC URI (e.g., `/projects/{project_id}/providers/Aruba.Network/vpcs/{vpc_id}`). You can reference the `uri` attribute from an `arubacloud_vpc` resource.
- `zone` (String) Zone

### Optional

- `elastic_ip_uri_ref` (String) URI reference to the Elastic IP. Should be the Elastic IP URI. You can reference the `uri` attribute from an `arubacloud_elasticip` resource.
- `key_pair_uri_ref` (String) URI reference to the Key Pair. Should be the Key Pair URI. You can reference the `uri` attribute from an `arubacloud_keypair` resource.
- `tags` (List of String) List of tags for the Cloud Server
- `user_data` (String, Sensitive) Cloud-Init user data to use during server creation. This is the content of a cloud-init YAML file that will be used to bootstrap the cloud server. The content should be provided as raw cloud-init YAML (not base64-encoded).

  **Best Practice**: When creating HTML content or configuring web servers (e.g., nginx) via cloud-init, always include UTF-8 charset settings:
  - In HTML: `<meta charset="UTF-8">` in the `<head>` section
  - In nginx: `charset utf-8;` in the server block
  
  This ensures proper display of emojis and special characters.

### Read-Only

- `id` (String) CloudServer identifier
- `uri` (String) CloudServer URI



## Import

Aruba Cloud CloudServers can be imported using the `cloudserver_id`.

```shell
terraform import arubacloud_cloudserver.example <cloudserver_id>
```
